{"ast":null,"code":"// Send a POST request using axios config\n\n/*\naxios({\n  method: 'post',\n  url: '/user/12345',\n  data: {\n    firstName: 'Fred',\n    lastName: 'Flintstone'\n  }\n});\n*/\nimport axios from 'axios';\nimport { useState } from 'react';\nconst iAxios = axios.create({\n  baseURL: 'https://localhost:3000',\n  timeout: 1000\n});\n\nconst useGetHandler = () => {\n  const [isLoading, setLoading] = useState(false);\n  const [hasError, setError] = useState(false);\n  const [data, setData] = useState(null);\n\n  const handleRequest = request => {\n    setLoading(true);\n    setError(false);\n    return iAxios.get(request).then(response => {\n      console.log(response.data);\n      setData(response.data);\n    }).catch(response => {\n      console.log(response.toJson());\n      setError(response);\n    }).finally(() => setLoading(false));\n  };\n\n  return {\n    isLoading,\n    hasError,\n    data,\n    handleRequest\n  };\n};\n\nexport default useGetHandler;","map":{"version":3,"sources":["/home/creator-76/bc/web/bcopp-blog/react-antd/src/hooks/FlaskAPI.tsx"],"names":["axios","useState","iAxios","create","baseURL","timeout","useGetHandler","isLoading","setLoading","hasError","setError","data","setData","handleRequest","request","get","then","response","console","log","catch","toJson","finally"],"mappings":"AAAA;;AACA;;;;;;;;;;AAUA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAGA,MAAMC,MAAM,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAE,wBADiB;AAE1BC,EAAAA,OAAO,EAAE;AAFiB,CAAb,CAAf;;AAMA,MAAMC,aAAa,GAAG,MAAM;AACxB,QAAM,CAACC,SAAD,EAAYC,UAAZ,IAA0BP,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACQ,QAAD,EAAWC,QAAX,IAAuBT,QAAQ,CAAC,KAAD,CAArC;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,IAAD,CAAhC;;AAEA,QAAMY,aAAa,GAAIC,OAAD,IAAkB;AACpCN,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAE,IAAAA,QAAQ,CAAC,KAAD,CAAR;AAEA,WAAOR,MAAM,CAACa,GAAP,CAAWD,OAAX,EACFE,IADE,CACIC,QAAD,IAAc;AAACC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACN,IAArB;AAA4BC,MAAAA,OAAO,CAACK,QAAQ,CAACN,IAAV,CAAP;AAAuB,KADrE,EAEFS,KAFE,CAEKH,QAAD,IAAc;AAACC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACI,MAAT,EAAZ;AAAgCX,MAAAA,QAAQ,CAACO,QAAD,CAAR;AAAmB,KAFtE,EAGFK,OAHE,CAGM,MAAMd,UAAU,CAAC,KAAD,CAHtB,CAAP;AAIH,GARD;;AAUA,SAAO;AAACD,IAAAA,SAAD;AAAYE,IAAAA,QAAZ;AAAsBE,IAAAA,IAAtB;AAA4BE,IAAAA;AAA5B,GAAP;AACH,CAhBD;;AAkBA,eAAeP,aAAf","sourcesContent":["// Send a POST request using axios config\n/*\naxios({\n  method: 'post',\n  url: '/user/12345',\n  data: {\n    firstName: 'Fred',\n    lastName: 'Flintstone'\n  }\n});\n*/\nimport axios from 'axios'\nimport { useState } from 'react';\n\n\nconst iAxios = axios.create({\n  baseURL: 'https://localhost:3000',\n  timeout: 1000,\n});\n\n\nconst useGetHandler = () => {\n    const [isLoading, setLoading] = useState(false);\n    const [hasError, setError] = useState(false);\n    const [data, setData] = useState(null);\n\n    const handleRequest = (request: any) => {\n        setLoading(true);\n        setError(false);\n\n        return iAxios.get(request)\n            .then((response) => {console.log(response.data); setData(response.data)})\n            .catch((response) => {console.log(response.toJson()); setError(response)})\n            .finally(() => setLoading(false))\n    };\n\n    return {isLoading, hasError, data, handleRequest};\n};\n\nexport default useGetHandler"]},"metadata":{},"sourceType":"module"}