{"ast":null,"code":"import _classCallCheck from\"/home/creator-76/bc/web/bcopp-blog-frontend-github-pages/react-antd/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/creator-76/bc/web/bcopp-blog-frontend-github-pages/react-antd/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/creator-76/bc/web/bcopp-blog-frontend-github-pages/react-antd/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/creator-76/bc/web/bcopp-blog-frontend-github-pages/react-antd/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"antd/es/tag/style/css\";import _Tag from\"antd/es/tag\";import\"antd/es/affix/style/css\";import _Affix from\"antd/es/affix\";import\"antd/es/button/style/css\";import _Button from\"antd/es/button\";import\"antd/es/divider/style/css\";import _Divider from\"antd/es/divider\";import\"antd/es/space/style/css\";import _Space from\"antd/es/space\";import\"antd/es/spin/style/css\";import _Spin from\"antd/es/spin\";import\"antd/es/message/style/css\";import _message from\"antd/es/message\";import _taggedTemplateLiteral from\"/home/creator-76/bc/web/bcopp-blog-frontend-github-pages/react-antd/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import\"antd/es/typography/style/css\";import _Typography from\"antd/es/typography\";function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  text-align: left;\\n  height: 100%;\\n  width: 800px;\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  margin: 10px 20px;\\n  color: lightgray;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: right;\\n  align-items: center;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: left;\\n  align-items: center;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  height: 20vw;\\n  width: 100%;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}// For Syntax Highlighting\nimport SyntaxHighlighter from'react-syntax-highlighter/';import style from'react-syntax-highlighter/dist/esm/styles/hljs/a11y-dark';import React from'react';import styled from'styled-components';import useGetHandler from'../hooks/FlaskAPI';import{RightOutlined}from\"@ant-design/icons\";import{useHistory}from\"react-router-dom\";var ReactMarkdown=require('react-markdown');var Title=_Typography.Title;var slugRequest={method:'get',url:''};var SplashContainer=styled.div(_templateObject());var LeftFlex=styled.div(_templateObject2());var RightFlex=styled.div(_templateObject3());var Timestamp=styled.h5(_templateObject4());var ContentContainer=styled.div(_templateObject5());export var Article=function Article(props){var slug=props.match.params.slug;var _useGetHandler=useGetHandler(),data=_useGetHandler.data,isLoading=_useGetHandler.isLoading,hasError=_useGetHandler.hasError,handleRequest=_useGetHandler.handleRequest;var history=useHistory();// BUG: Does not reload page when pressing back button\nvar openNextArticleSlug=function openNextArticleSlug(){slugRequest.url=\"/\"+data[0].nextArticleSlug+\"/\";history.push(data[0].nextArticleSlug);handleRequest(slugRequest);};if(hasError){_message.error(\"An error has occured. Please reload\");return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SplashContainer,null),/*#__PURE__*/React.createElement(_Spin,null));}if(data===null&&isLoading===false){slugRequest.url=\"/\"+slug+\"/\";//console.log(slugRequest)\nhandleRequest(slugRequest);}return data===null||isLoading?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SplashContainer,null,/*#__PURE__*/React.createElement(_Spin,null))):/*#__PURE__*/React.createElement(\"div\",{className:\"center-h-text\"},/*#__PURE__*/React.createElement(SplashContainer,{style:{backgroundSize:\"cover\",backgroundImage:\"url(\"+data[0].photoLink+\")\"}},/*#__PURE__*/React.createElement(_Space,{direction:\"vertical\"},/*#__PURE__*/React.createElement(Title,{level:1,style:{color:\"white\",textShadow:\"2px 0 0 #000, 0 -1px 0 #000, 0 1px 0 #000, -1px 0 0 #000\"}},data[0].title),/*#__PURE__*/React.createElement(Title,{level:3,style:{color:\"white\",textShadow:\"2px 0 0 #000, 0 -1px 0 #000, 0 1px 0 #000, -1px 0 0 #000\"}},data[0].subtitle))),/*#__PURE__*/React.createElement(_Divider,{orientation:\"left\"},data[0].timestamp),/*#__PURE__*/React.createElement(ContentContainer,null,/*#__PURE__*/React.createElement(ReactMarkdown,{source:data[0].content,renderers:{code:MarkdownCodeBlock}})),data[0].nextArticleSlug!==\"\"?/*#__PURE__*/React.createElement(RightFlex,null,/*#__PURE__*/React.createElement(_Affix,{offsetBottom:15,style:{margin:\"20px\"}},/*#__PURE__*/React.createElement(_Button,{onClick:function onClick(e){return openNextArticleSlug();},style:{backgroundColor:\"#eae8e9\"},shape:\"round\",icon:/*#__PURE__*/React.createElement(RightOutlined,null),size:\"large\"},\"Continue\"))):/*#__PURE__*/React.createElement(\"div\",null),data[0].github!==\"\"?/*#__PURE__*/React.createElement(\"a\",{style:{backgroundImage:\"url(github.png)\",backgroundSize:\"cover\",width:\"150px\",height:\"150px\",marginLeft:\"10px\",marginRight:\"10px\"},href:data[0].githubLink}):/*#__PURE__*/React.createElement(\"div\",null),data[0].tags!==\"\"?/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:\"15px\"}},/*#__PURE__*/React.createElement(\"span\",{style:{marginRight:8}},\"Tags:\"),data[0].tags.split(',').map(function(tag){return/*#__PURE__*/React.createElement(_Tag,null,tag);})):/*#__PURE__*/React.createElement(\"div\",null));};// Markdown Sytnax Highlighting\nvar MarkdownCodeBlock=/*#__PURE__*/function(_React$PureComponent){_inherits(MarkdownCodeBlock,_React$PureComponent);var _super=_createSuper(MarkdownCodeBlock);function MarkdownCodeBlock(){_classCallCheck(this,MarkdownCodeBlock);return _super.apply(this,arguments);}_createClass(MarkdownCodeBlock,[{key:\"render\",value:function render(){var _this$props=this.props,language=_this$props.language,value=_this$props.value;return/*#__PURE__*/React.createElement(SyntaxHighlighter,{language:language,style:style},value);}}]);return MarkdownCodeBlock;}(React.PureComponent);MarkdownCodeBlock.defaultProps={language:null};export default Article;","map":{"version":3,"sources":["/home/creator-76/bc/web/bcopp-blog-frontend-github-pages/react-antd/src/components/Article.tsx"],"names":["SyntaxHighlighter","style","React","styled","useGetHandler","RightOutlined","useHistory","ReactMarkdown","require","Title","slugRequest","method","url","SplashContainer","div","LeftFlex","RightFlex","Timestamp","h5","ContentContainer","Article","props","slug","match","params","data","isLoading","hasError","handleRequest","history","openNextArticleSlug","nextArticleSlug","push","error","backgroundSize","backgroundImage","photoLink","color","textShadow","title","subtitle","timestamp","content","code","MarkdownCodeBlock","margin","e","backgroundColor","github","width","height","marginLeft","marginRight","githubLink","tags","marginBottom","split","map","tag","language","value","PureComponent","defaultProps"],"mappings":"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","sourcesContent":["// For Syntax Highlighting\nimport PropTypes from 'prop-types';\nimport SyntaxHighlighter from 'react-syntax-highlighter/'\nimport style from 'react-syntax-highlighter/dist/esm/styles/hljs/a11y-dark'\n\nimport { RouteComponentProps } from 'react-router-dom';\nimport React, { } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport useGetHandler from '../hooks/FlaskAPI';\nimport { Spin, message, Typography, Divider, Affix, Button, Tag, Space} from 'antd'\nimport { RightOutlined } from \"@ant-design/icons\"\nimport { useHistory} from \"react-router-dom\";\n\nconst ReactMarkdown = require('react-markdown')\n\nconst { Title } = Typography\n\nconst slugRequest = {\n  method: 'get',\n  url: '',\n};\n\nconst SplashContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  height: 20vw;\n  width: 100%;\n`\nconst LeftFlex = styled.div`\n  display: flex;\n  justify-content: left;\n  align-items: center;\n`\nconst RightFlex = styled.div`\n  display: flex;\n  justify-content: right;\n  align-items: center;\n`\n\nconst Timestamp = styled.h5`\n  margin: 10px 20px;\n  color: lightgray;\n`\n\nconst ContentContainer = styled.div`\n  display: inline-block;\n  text-align: left;\n  height: 100%;\n  width: 800px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n`\n\n\nexport const Article: React.FC<RouteComponentProps<{ slug: string }>> = (props: any) => {\n  let slug = props.match.params.slug\n  const { data, isLoading, hasError, handleRequest } = useGetHandler();\n  const history = useHistory();\n\n  // BUG: Does not reload page when pressing back button\n  const openNextArticleSlug = () => {\n    slugRequest.url = \"/\" + data[0].nextArticleSlug + \"/\"\n    history.push(data[0].nextArticleSlug);\n    handleRequest(slugRequest);\n  }\n\n  if (hasError) {\n    message.error(\"An error has occured. Please reload\");\n\n    return (\n      <div>\n        <SplashContainer />\n        <Spin />\n      </div>\n    )\n  }\n\n  if (data === null && isLoading === false) {\n    slugRequest.url = \"/\" + slug + \"/\"\n    //console.log(slugRequest)\n    handleRequest(slugRequest)\n  }\n  \n\n  return (\n    (data === null || isLoading) ?\n      <div>\n        <SplashContainer>\n          <Spin />\n        </SplashContainer>\n      </div>\n      :\n      <div className=\"center-h-text\">\n        <SplashContainer style={{ backgroundSize: \"cover\", backgroundImage: \"url(\" + data[0].photoLink + \")\" }}>\n          <Space direction=\"vertical\">\n            <Title level={1} style={{ color: \"white\", textShadow: \"2px 0 0 #000, 0 -1px 0 #000, 0 1px 0 #000, -1px 0 0 #000\" }}>\n              {data[0].title}</Title>\n            <Title level={3} style={{ color: \"white\", textShadow: \"2px 0 0 #000, 0 -1px 0 #000, 0 1px 0 #000, -1px 0 0 #000\" }}>\n              {data[0].subtitle}</Title>\n          </Space>\n        </SplashContainer>\n        <Divider orientation=\"left\">{data[0].timestamp}</Divider>\n        <ContentContainer>\n          <ReactMarkdown source={data[0].content} renderers={{code: MarkdownCodeBlock}} />\n        </ContentContainer>\n        {\n          (data[0].nextArticleSlug !== \"\") ?\n            <RightFlex>\n              <Affix offsetBottom={15} style={{ margin: \"20px\" }}>\n                <Button onClick={(e) => openNextArticleSlug()} style={{backgroundColor:\"#eae8e9\"}}shape=\"round\" icon={<RightOutlined />} size=\"large\" >Continue</Button>\n              </Affix>\n            </RightFlex>\n            :\n            <div />\n        }\n        {\n          (data[0].github !== \"\") ?\n            <a style={{ backgroundImage: \"url(github.png)\", backgroundSize: \"cover\", width: \"150px\", height: \"150px\", marginLeft: \"10px\", marginRight: \"10px\" }} href={data[0].githubLink} />\n            :\n            <div />\n        }\n        {\n          (data[0].tags !== \"\") ?\n            <div style={{ marginBottom: \"15px\" }}>\n              <span style={{ marginRight: 8 }}>Tags:</span>\n              {data[0].tags.split(',').map((tag: string) => <Tag>{tag}</Tag>)}\n            </div>\n            :\n            <div />\n        }\n\n      </div>\n  )\n}\n\n\n// Markdown Sytnax Highlighting\n\nclass MarkdownCodeBlock extends React.PureComponent<{language, value}> {\n  static propTypes = {\n    value: PropTypes.string.isRequired,\n    language: PropTypes.string,\n  }\n\n  static defaultProps = {\n    language: null,\n  }\n\n  render() {\n    const { language, value } = this.props;\n\n    return (\n      <SyntaxHighlighter language={language} style={style}>\n        {value}\n      </SyntaxHighlighter>\n    );\n  }\n}\n\n\nexport default Article;"]},"metadata":{},"sourceType":"module"}